/* ========================================
   学生中心 UI/UX 增强动画样式
   注意: 基础动画 (fade-in, scale-in, slide-up) 已移至 main.css 统一管理
   此文件保留特定复杂效果
   ======================================== */

/* ===== 基础动画别名 (兼容旧代码 & Inline Styles) ===== */
.animate-fade-in-up {
  animation: slide-up var(--motion-duration-slow) var(--motion-ease-standard) forwards;
}

.animate-fade-in-scale {
  animation: scale-in var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

/* 兼容 inline style animation: fade-in-up ... */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 兼容 inline style animation: fade-in-scale ... */
@keyframes fade-in-scale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}


/* 弹性入场 - 优雅版 */
@keyframes bounce-in {
  0% {
    opacity: 0;
    transform: scale(0.6);
  }

  60% {
    opacity: 1;
    transform: scale(1.02);
  }

  85% {
    transform: scale(0.98);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* 脉冲效果 - 极柔版 */
@keyframes pulse-soft {

  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }

  50% {
    opacity: 0.9;
    transform: scale(1.01);
    /* 极其微小的呼吸 */
  }
}

/* 呼吸灯效果 */
@keyframes breathe {

  0%,
  100% {
    opacity: 0.4;
    box-shadow: 0 0 0 0 currentColor;
  }

  50% {
    opacity: 1;
    box-shadow: 0 0 20px 5px currentColor;
  }
}

/* 闪烁提醒 */
@keyframes blink-attention {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }
}

/* 轻微抖动 */
@keyframes shake-gentle {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-3px);
  }

  75% {
    transform: translateX(3px);
  }
}

/* 数字递增动画辅助 */
@keyframes count-up-flash {
  0% {
    opacity: 0.5;
    transform: scale(0.8);
  }

  50% {
    opacity: 1;
    transform: scale(1.1);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* 进度条流光效果 */
@keyframes progress-shine {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

/* 进度条条纹动画 */
@keyframes progress-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 40px 0;
  }
}

/* 柱状图生长动画 */
@keyframes bar-grow {
  from {
    transform: scaleY(0);
    transform-origin: bottom;
  }

  to {
    transform: scaleY(1);
    transform-origin: bottom;
  }
}

/* 监控专用状态球波纹动效 */
@keyframes ripple-status {
  0% {
    transform: scale(1);
    opacity: 0.6;
  }
  100% {
    transform: scale(2.8);
    opacity: 0;
  }
}

.animate-ripple {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 9999px;
  /* P0 动效时长收敛：高风险动画统一压到 400ms */
  animation: ripple-status var(--motion-duration-slow) var(--motion-ease-standard) infinite;
}

.ripple-1 { animation-delay: 0s; }
.ripple-2 { animation-delay: 0.8s; }
.ripple-3 { animation-delay: 1.6s; }

/* 涟漪效果 (通用) */
@keyframes ripple {
  0% {
    transform: scale(0);
    opacity: 0.5;
  }

  100% {
    transform: scale(4);
    opacity: 0;
  }
}

/* 悬浮效果 (标准浮动) */
@keyframes hover-float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-5px);
  }
}

/* 卡片发光效果 */
@keyframes card-glow {

  0%,
  100% {
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }

  50% {
    box-shadow: 0 8px 30px rgba(136, 173, 166, 0.3);
  }
}

/* 图标旋转 */
@keyframes icon-spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* 滑入动画 - 从左 */
@keyframes slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* 滑入动画 - 从右 */
@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* 时间线绘制 */
@keyframes timeline-draw {
  from {
    height: 0;
  }

  to {
    height: 100%;
  }
}

/* 徽章解锁动画 */
@keyframes badge-unlock {
  0% {
    transform: scale(0) rotate(-180deg);
    opacity: 0;
  }

  50% {
    transform: scale(1.2) rotate(10deg);
  }

  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

/* ===== 动画工具类 ===== */

.animate-bounce-in {
  animation: bounce-in var(--motion-duration-slow) var(--motion-ease-standard) forwards;
}

.animate-pulse-soft {
  /* P1 第二批：通用动画时长压缩到 200ms 档 */
  animation: pulse-soft var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

.animate-breathe {
  animation: breathe var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

.animate-blink {
  animation: blink-attention var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

.animate-shake {
  animation: shake-gentle var(--motion-duration-medium) var(--motion-ease-standard);
}

.animate-count-up {
  animation: count-up-flash var(--motion-duration-medium) var(--motion-ease-standard);
}

.animate-bar-grow {
  animation: bar-grow var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

.animate-hover-float {
  animation: hover-float var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

.animate-slide-in-left {
  animation: slide-in-left var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

.animate-slide-in-right {
  animation: slide-in-right var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

.animate-badge-unlock {
  animation: badge-unlock var(--motion-duration-slow) var(--motion-ease-standard) forwards;
}

/* ===== 延迟动画类 ===== */
.delay-100 {
  animation-delay: 0.1s;
}

.delay-200 {
  animation-delay: 0.2s;
}

.delay-300 {
  animation-delay: 0.3s;
}

.delay-400 {
  animation-delay: 0.4s;
}

.delay-500 {
  animation-delay: 0.5s;
}

/* ===== 交错动画 (Stagger) ===== */

/* 基础交错入场动画 - 从下向上滑入 */
@keyframes stagger-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 基础交错入场动画 - 从左向右滑入 */
@keyframes stagger-in-left {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* 基础交错入场动画 - 缩放入场 */
@keyframes stagger-in-scale {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Stagger 列表项 - 自动延迟 */
.stagger-item {
  opacity: 0;
  animation: stagger-in var(--motion-duration-slow) var(--motion-ease-standard) forwards;
}

.stagger-item-left {
  opacity: 0;
  animation: stagger-in-left var(--motion-duration-slow) var(--motion-ease-standard) forwards;
}

.stagger-item-scale {
  opacity: 0;
  animation: stagger-in-scale var(--motion-duration-slow) var(--motion-ease-standard) forwards;
}

/* 延迟序列 - 支持最多20个子元素 */
.stagger-item:nth-child(1),
.stagger-item-left:nth-child(1),
.stagger-item-scale:nth-child(1) {
  animation-delay: 0.05s;
}

.stagger-item:nth-child(2),
.stagger-item-left:nth-child(2),
.stagger-item-scale:nth-child(2) {
  animation-delay: 0.1s;
}

.stagger-item:nth-child(3),
.stagger-item-left:nth-child(3),
.stagger-item-scale:nth-child(3) {
  animation-delay: 0.15s;
}

.stagger-item:nth-child(4),
.stagger-item-left:nth-child(4),
.stagger-item-scale:nth-child(4) {
  animation-delay: 0.2s;
}

.stagger-item:nth-child(5),
.stagger-item-left:nth-child(5),
.stagger-item-scale:nth-child(5) {
  animation-delay: 0.25s;
}

.stagger-item:nth-child(6),
.stagger-item-left:nth-child(6),
.stagger-item-scale:nth-child(6) {
  animation-delay: 0.3s;
}

.stagger-item:nth-child(7),
.stagger-item-left:nth-child(7),
.stagger-item-scale:nth-child(7) {
  animation-delay: 0.35s;
}

.stagger-item:nth-child(8),
.stagger-item-left:nth-child(8),
.stagger-item-scale:nth-child(8) {
  animation-delay: 0.4s;
}

.stagger-item:nth-child(9),
.stagger-item-left:nth-child(9),
.stagger-item-scale:nth-child(9) {
  animation-delay: 0.45s;
}

.stagger-item:nth-child(10),
.stagger-item-left:nth-child(10),
.stagger-item-scale:nth-child(10) {
  animation-delay: 0.5s;
}

.stagger-item:nth-child(11),
.stagger-item-left:nth-child(11),
.stagger-item-scale:nth-child(11) {
  animation-delay: 0.55s;
}

.stagger-item:nth-child(12),
.stagger-item-left:nth-child(12),
.stagger-item-scale:nth-child(12) {
  animation-delay: 0.6s;
}

.stagger-item:nth-child(13),
.stagger-item-left:nth-child(13),
.stagger-item-scale:nth-child(13) {
  animation-delay: 0.65s;
}

.stagger-item:nth-child(14),
.stagger-item-left:nth-child(14),
.stagger-item-scale:nth-child(14) {
  animation-delay: 0.7s;
}

.stagger-item:nth-child(15),
.stagger-item-left:nth-child(15),
.stagger-item-scale:nth-child(15) {
  animation-delay: 0.75s;
}

.stagger-item:nth-child(16),
.stagger-item-left:nth-child(16),
.stagger-item-scale:nth-child(16) {
  animation-delay: 0.8s;
}

.stagger-item:nth-child(17),
.stagger-item-left:nth-child(17),
.stagger-item-scale:nth-child(17) {
  animation-delay: 0.85s;
}

.stagger-item:nth-child(18),
.stagger-item-left:nth-child(18),
.stagger-item-scale:nth-child(18) {
  animation-delay: 0.9s;
}

.stagger-item:nth-child(19),
.stagger-item-left:nth-child(19),
.stagger-item-scale:nth-child(19) {
  animation-delay: 0.95s;
}

.stagger-item:nth-child(20),
.stagger-item-left:nth-child(20),
.stagger-item-scale:nth-child(20) {
  animation-delay: 1s;
}

/* 快速版本 - 更短的延迟间隔 */
.stagger-fast .stagger-item:nth-child(1) { animation-delay: 0.03s; }
.stagger-fast .stagger-item:nth-child(2) { animation-delay: 0.06s; }
.stagger-fast .stagger-item:nth-child(3) { animation-delay: 0.09s; }
.stagger-fast .stagger-item:nth-child(4) { animation-delay: 0.12s; }
.stagger-fast .stagger-item:nth-child(5) { animation-delay: 0.15s; }
.stagger-fast .stagger-item:nth-child(6) { animation-delay: 0.18s; }
.stagger-fast .stagger-item:nth-child(7) { animation-delay: 0.21s; }
.stagger-fast .stagger-item:nth-child(8) { animation-delay: 0.24s; }
.stagger-fast .stagger-item:nth-child(9) { animation-delay: 0.27s; }
.stagger-fast .stagger-item:nth-child(10) { animation-delay: 0.3s; }

/* 容器标记类 - 用于触发子元素的 stagger 动画 */
.stagger-list > * {
  opacity: 0;
  animation: stagger-in var(--motion-duration-slow) var(--motion-ease-standard) forwards;
}

.stagger-list > *:nth-child(1) { animation-delay: 0.05s; }
.stagger-list > *:nth-child(2) { animation-delay: 0.1s; }
.stagger-list > *:nth-child(3) { animation-delay: 0.15s; }
.stagger-list > *:nth-child(4) { animation-delay: 0.2s; }
.stagger-list > *:nth-child(5) { animation-delay: 0.25s; }
.stagger-list > *:nth-child(6) { animation-delay: 0.3s; }
.stagger-list > *:nth-child(7) { animation-delay: 0.35s; }
.stagger-list > *:nth-child(8) { animation-delay: 0.4s; }
.stagger-list > *:nth-child(9) { animation-delay: 0.45s; }
.stagger-list > *:nth-child(10) { animation-delay: 0.5s; }
.stagger-list > *:nth-child(n+11) { animation-delay: 0.55s; }

/* ===== 进度条增强样式 (GPU Accelerated) ===== */
.progress-bar-animated {
  position: relative;
  overflow: hidden;
  background-color: rgba(255, 255, 255, 0.2);
}

.progress-bar-animated::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transform: translateX(-100%);
  animation: progress-shine-transform var(--motion-duration-medium) linear infinite;
}

@keyframes progress-shine-transform {
  100% {
    transform: translateX(100%);
  }
}

.progress-bar-striped {
  background-image: linear-gradient(45deg,
      rgba(255, 255, 255, 0.15) 25%,
      transparent 25%,
      transparent 50%,
      rgba(255, 255, 255, 0.15) 50%,
      rgba(255, 255, 255, 0.15) 75%,
      transparent 75%,
      transparent);
  background-size: 40px 40px;
  /* Striped animation is hard to GPU accelerate without mask/clip-path tricks or massive pseudo-element. 
     Keeping as is but reducing frequency or accepting paint cost for this specific style, 
     OR better: use a repeating-linear-gradient on a pseudo-element and translate it. */
  position: relative;
  overflow: hidden;
}

.progress-bar-striped::before {
  content: '';
  position: absolute;
  inset: 0;
  width: 200%; /* Make it wider to slide */
  background: inherit;
  animation: progress-stripes-transform var(--motion-duration-medium) linear infinite;
  /* This is tricky because background needs to be on the element itself usually. 
     Let's stick to standard background-position for stripes as it's less critical than LCP skeletons, 
     but actually we can just leave it if it's not main thread blocking. 
     However, user asked to fix triggers. 
     Let's use the transform approach. */
  background-image: linear-gradient(45deg,
      rgba(255, 255, 255, 0.15) 25%,
      transparent 25%,
      transparent 50%,
      rgba(255, 255, 255, 0.15) 50%,
      rgba(255, 255, 255, 0.15) 75%,
      transparent 75%,
      transparent);
  background-size: 40px 40px;
}

/* Redefining class to remove background from parent and put on pseudo */
.progress-bar-striped {
  background: transparent;
  position: relative;
  overflow: hidden;
}
.progress-bar-striped::after {
  content: '';
  position: absolute;
  top: 0; left: 0; bottom: 0; right: -40px; /* Extra width for seamless loop */
  background-image: linear-gradient(45deg,
        rgba(255, 255, 255, 0.15) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255, 255, 255, 0.15) 50%,
        rgba(255, 255, 255, 0.15) 75%,
        transparent 75%,
        transparent);
  background-size: 40px 40px;
  animation: progress-stripes-transform var(--motion-duration-medium) linear infinite;
  transform: translateX(0);
}

@keyframes progress-stripes-transform {
  0% { transform: translateX(0); }
  100% { transform: translateX(-40px); }
}

/* ===== 卡片悬停增强 ===== */
.card-hover-lift {
  transition:
    transform var(--motion-duration-medium) var(--motion-ease-standard),
    box-shadow var(--motion-duration-medium) var(--motion-ease-standard);
}

.card-hover-lift:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.15);
}

.card-hover-glow {
  transition: box-shadow var(--motion-duration-medium) var(--motion-ease-standard);
}

.card-hover-glow:hover {
  box-shadow: 0 0 30px rgba(136, 173, 166, 0.3);
}

/* ===== 按钮涟漪效果 ===== */
.btn-ripple {
  position: relative;
  overflow: hidden;
}

.btn-ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
}

.btn-ripple:active::after {
  animation: ripple var(--motion-duration-medium) var(--motion-ease-standard);
}

/* ===== 图标动效 ===== */
.icon-hover-rotate {
  transition: transform var(--motion-duration-medium) var(--motion-ease-standard);
}

.icon-hover-rotate:hover {
  transform: rotate(15deg);
}

.icon-hover-scale {
  transition: transform 0.2s ease;
}

.icon-hover-scale:hover {
  transform: scale(1.2);
}

.icon-spin {
  animation: icon-spin var(--motion-duration-medium) linear infinite;
}

/* ===== 徽章样式增强 ===== */
.badge-locked {
  filter: grayscale(100%);
  opacity: 0.5;
  transition:
    filter var(--motion-duration-medium) var(--motion-ease-standard),
    opacity var(--motion-duration-medium) var(--motion-ease-standard);
}

.badge-locked:hover {
  filter: grayscale(50%);
  opacity: 0.7;
}

.badge-near-unlock {
  animation: pulse-soft var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

.badge-unlocked {
  animation: badge-unlock var(--motion-duration-slow) var(--motion-ease-standard) forwards;
}

/* 已解锁徽章发光效果 */
.badge-unlocked-glow {
  position: relative;
  overflow: visible;
}

.badge-unlocked-glow::before {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.3), rgba(34, 197, 94, 0.3));
  opacity: 0;
  transition: opacity var(--motion-duration-medium) var(--motion-ease-standard);
  z-index: -1;
  filter: blur(8px);
}

.badge-unlocked-glow:hover::before {
  opacity: 1;
  animation: badge-glow-pulse var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

/* 徽章图标发光效果 */
.badge-icon-glow {
  box-shadow: 0 0 15px rgba(245, 158, 11, 0.3);
  transition: box-shadow var(--motion-duration-medium) var(--motion-ease-standard);
}

.badge-icon-glow:hover {
  box-shadow: 0 0 25px rgba(245, 158, 11, 0.5);
}

/* 徽章发光脉冲动画 */
@keyframes badge-glow-pulse {
  0%, 100% {
    opacity: 0.6;
    filter: blur(8px);
  }
  50% {
    opacity: 1;
    filter: blur(12px);
  }
}

/* ===== 紧急提醒样式 ===== */
.urgent-pulse {
  animation: pulse-soft var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

.urgent-shake {
  animation: shake-gentle var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

/* ===== 空状态动画 ===== */
.empty-state-float {
  animation: hover-float var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

/* ===== 开关按钮增强 ===== */
.switch-enhanced {
  transition: transform var(--motion-duration-medium) var(--motion-ease-standard);
}

.switch-enhanced:active {
  transform: scale(0.95);
}

/* ===== 滑块增强 ===== */
.slider-enhanced::-webkit-slider-thumb {
  transition:
    transform var(--motion-duration-base) var(--motion-ease-standard),
    box-shadow var(--motion-duration-base) var(--motion-ease-standard);
}

.slider-enhanced::-webkit-slider-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 0 10px rgba(136, 173, 166, 0.5);
}

.slider-enhanced::-webkit-slider-thumb:active {
  transform: scale(1.1);
}

/* ===== 头像悬停效果 ===== */
.avatar-hover {
  transition:
    transform var(--motion-duration-medium) var(--motion-ease-standard),
    box-shadow var(--motion-duration-medium) var(--motion-ease-standard);
}

.avatar-hover:hover {
  transform: scale(1.05) rotate(5deg);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

/* ===== 菜单项增强 ===== */
.menu-item-enhanced {
  position: relative;
  overflow: hidden;
}

.menu-item-enhanced::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  /* 动效优化：使用 transform 替代 left，避免触发布局重排 */
  transform: translateX(-100%);
  transition: transform var(--motion-duration-medium) var(--motion-ease-standard);
}

.menu-item-enhanced:hover::before {
  transform: translateX(100%);
}

/* ===== 数字跳动效果 ===== */
.number-pop {
  display: inline-block;
  transition:
    transform var(--motion-duration-medium) var(--motion-ease-standard),
    color var(--motion-duration-medium) var(--motion-ease-standard);
}

.number-pop.updated {
  animation: count-up-flash var(--motion-duration-medium) var(--motion-ease-standard);
}

/* ===== 课程卡片封面效果 ===== */
.cover-ken-burns {
  transition: transform var(--motion-duration-medium) var(--motion-ease-standard);
}

.cover-ken-burns:hover {
  transform: scale(1.1);
}

/* ===== 播放按钮脉冲 ===== */
.play-btn-pulse {
  position: relative;
}

.play-btn-pulse::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  background: inherit;
  opacity: 0.4;
  animation: pulse-soft var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

/* ===== 时间线动画 ===== */
.timeline-animated::before {
  animation: timeline-draw var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

.timeline-dot {
  animation: scale-in var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

/* ===== 柱状图动画 ===== */
.chart-bar {
  transform-origin: bottom;
  animation: bar-grow var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

.chart-bar:nth-child(1) {
  animation-delay: 0.1s;
}

.chart-bar:nth-child(2) {
  animation-delay: 0.2s;
}

.chart-bar:nth-child(3) {
  animation-delay: 0.3s;
}

.chart-bar:nth-child(4) {
  animation-delay: 0.4s;
}

.chart-bar:nth-child(5) {
  animation-delay: 0.5s;
}

.chart-bar:nth-child(6) {
  animation-delay: 0.6s;
}

.chart-bar:nth-child(7) {
  animation-delay: 0.7s;
}

/* ===== 骨架屏动画 (GPU Accelerated) ===== */
.skeleton {
  background-color: #f0f0f0;
  position: relative;
  overflow: hidden;
  border-radius: 4px;
}

.skeleton::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
  transform: translateX(-100%);
  animation: shimmer-transform var(--motion-duration-medium) infinite;
}

@keyframes shimmer-transform {
  100% {
    transform: translateX(100%);
  }
}

/* ===== 页面切换增强 ===== */
.page-transition-enter-active {
  animation: slide-up var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

.page-transition-leave-active {
  animation: slide-up 0.2s ease-in reverse forwards;
}

@keyframes shimmer {
  100% {
    transform: translateX(150%);
  }
}

/* ===== 进度条入场动画 ===== */
@keyframes progress-bar-enter {
  from {
    width: 0;
  }

  to {
    width: var(--progress-width, 0%);
  }
}

.animate-progress-bar {
  animation: progress-bar-enter var(--motion-duration-medium) var(--motion-ease-standard) forwards;
  width: var(--progress-width, 0%);
}

/* ===== 教师中心增强动效 ===== */

/* 统计卡片数字脉冲高亮 */
@keyframes number-pulse {
  0%, 100% {
    opacity: 1;
    text-shadow: none;
  }
  50% {
    opacity: 0.9;
    text-shadow: 0 0 20px currentColor;
  }
}

.animate-number-pulse {
  animation: number-pulse var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

/* 统计卡片悬停时数字高亮 */
@keyframes stat-number-glow {
  0% {
    filter: brightness(1);
  }
  100% {
    filter: brightness(1.1);
  }
}

/* 侧边栏滑动指示器 */
@keyframes slide-indicator {
  from {
    transform: translateY(var(--from-y, 0));
  }
  to {
    transform: translateY(var(--to-y, 0));
  }
}

.slide-indicator {
  transition: transform var(--motion-duration-medium) var(--motion-ease-standard);
}

/* 页面切换 - 向上滑动 */
@keyframes page-slide-up-enter {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes page-slide-up-leave {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

/* 页面切换 - 向下滑动 */
@keyframes page-slide-down-enter {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes page-slide-down-leave {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(20px);
  }
}

/* 日历今日脉冲 */
@keyframes today-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(136, 173, 166, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(136, 173, 166, 0);
  }
}

.animate-today-pulse {
  animation: today-pulse var(--motion-duration-medium) var(--motion-ease-standard) infinite;
}

/* 月份切换滑动 */
@keyframes calendar-slide-left {
  from {
    opacity: 0;
    transform: translateX(50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes calendar-slide-right {
  from {
    opacity: 0;
    transform: translateX(-50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-calendar-slide-left {
  animation: calendar-slide-left var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

.animate-calendar-slide-right {
  animation: calendar-slide-right var(--motion-duration-medium) var(--motion-ease-standard) forwards;
}

/* Tab 滑动下划线指示器 */
@keyframes tab-underline-slide {
  from {
    transform: translateX(var(--tab-from-x, 0));
    width: var(--tab-from-width, 0);
  }
  to {
    transform: translateX(var(--tab-to-x, 0));
    width: var(--tab-to-width, 0);
  }
}

.tab-indicator {
  /* 动效优化：仅过渡合成层属性，降低主线程布局压力 */
  transition:
    transform var(--motion-duration-medium) var(--motion-ease-standard),
    opacity var(--motion-duration-medium) var(--motion-ease-standard);
}

/* 快捷按钮悬停弹跳 */
@keyframes icon-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

.group:hover .icon-bounce {
  animation: icon-bounce var(--motion-duration-medium) var(--motion-ease-standard);
}

/* 通知铃铛摇晃 */
@keyframes bell-shake {
  0%, 100% {
    transform: rotate(0deg);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: rotate(-8deg);
  }
  20%, 40%, 60%, 80% {
    transform: rotate(8deg);
  }
}

.animate-bell-shake {
  animation: bell-shake var(--motion-duration-medium) var(--motion-ease-standard);
}

/* 点击涟漪效果增强 */
@keyframes ripple-expand {
  0% {
    transform: scale(0);
    opacity: 0.5;
  }
  100% {
    transform: scale(2.5);
    opacity: 0;
  }
}

.ripple-effect {
  position: relative;
  overflow: hidden;
}

.ripple-effect::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
  transform: translate(-50%, -50%) scale(0);
  border-radius: 50%;
  pointer-events: none;
}

.ripple-effect:active::before {
  animation: ripple-expand var(--motion-duration-medium) var(--motion-ease-standard);
}

/* 骨架屏流光效果增强 (GPU Accelerated) */
.skeleton-shimmer {
  background-color: #f0f0f0;
  position: relative;
  overflow: hidden;
}

.skeleton-shimmer::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transform: translateX(-100%);
  animation: shimmer-transform var(--motion-duration-medium) linear infinite;
}

/* 卡片悬停装饰图标效果 */
.stat-card-icon {
  transition:
    transform var(--motion-duration-slow) var(--motion-ease-standard),
    opacity var(--motion-duration-slow) var(--motion-ease-standard);
}

.group:hover .stat-card-icon {
  transform: scale(1.15) rotate(5deg);
  opacity: 0.2;
}

/* 菜单项悬停光效 */
@keyframes menu-glow {
  0% {
    opacity: 0;
    transform: translateX(-100%);
  }
  50% {
    opacity: 0.3;
  }
  100% {
    opacity: 0;
    transform: translateX(100%);
  }
}

.menu-item-glow::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transform: translateX(-100%);
  opacity: 0;
  pointer-events: none;
}

.menu-item-glow:hover::after {
  animation: menu-glow var(--motion-duration-medium) var(--motion-ease-standard);
}
